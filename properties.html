<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<title>Properties — The Vintage Realtors</title>
	<link rel="stylesheet" href="style.css">
		<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Playfair+Display:wght@700&display=swap" rel="stylesheet">
</head>
<body class="properties-page">
	<nav>
		<a href="index.html" class="logo-container">
			<img src="images/logo.avif" alt="The Vintage Realtors logo" class="logo-img">
		</a>
		<div class="site-title"><span>THE VINTAGE REALTORS</span></div>
		<button class="hamburger" aria-label="Open menu" aria-expanded="false">
			<span></span>
			<span></span>
			<span></span>
		</button>
	</nav>

	<!-- Menu Drawer (shared) -->
	<div id="menu" class="menu-drawer" aria-hidden="true">
		<button class="close" aria-label="Close menu">&times;</button>
		<nav class="drawer-nav">
			<ul>
				<li><a href="index.html">Home</a></li>
				<li><a href="about.html">About</a></li>
				<li><a href="properties.html">Properties</a></li>
				<li><a href="collaborators.html">Collaborators</a></li>
				<li><a href="contact.html">Contact</a></li>
			</ul>
		</nav>
	</div>

	<div class="menu-overlay"></div>

	<main style="max-width:900px;margin:60px auto;padding:24px;">
		<h1>Your Next Space Awaits</h1>
		<p class="subtitle">Explore a range of residential and commercial properties available for sale and rent.</p>

		<script>
		// Render all properties grouped by category (fetch shared JSON)
		(function(){
			const order = [
				{ key: 'houses', label: 'Houses' },
				{ key: 'apartments', label: 'Apartments' },
				{ key: 'commercial', label: 'Commercials' },
				{ key: 'offices', label: 'Offices' },
				{ key: 'farms', label: 'Farms & Land' },
				{ key: 'warehouses', label: 'Warehouses' }
			];

			const container = document.getElementById('propertiesContainer');
			if(!container) return;

			fetch('properties.json')
				.then(r => r.ok ? r.json() : Promise.reject('Failed to load'))
				.then(data => {
					order.forEach(cat => {
						const items = data.filter(d => d.type === cat.key);
						if(items.length === 0) return;

						const section = document.createElement('section');
						section.className = 'property-group';
						section.id = `group-${cat.key}`;
						section.setAttribute('tabindex','-1');
						section.innerHTML = `<h3 class="group-title">${cat.label}</h3>`;

						const list = document.createElement('div');
						list.className = 'property-list';

						items.forEach(it => {
							const item = document.createElement('a');
							item.className = 'property-item property-link';
							item.href = `property.html?property=${it.id}`;
							item.setAttribute('aria-label', `${it.title} — ${it.price}`);
							item.innerHTML = `
								<div class="pi-left">
									<img src="${it.img}?q=60&w=800&auto=format&fit=crop" alt="${it.title}">
								</div>
								<div class="pi-right">
									<div class="pi-title">${it.title}</div>
									<div class="pi-price">${it.price}</div>
									<div class="pi-meta">${it.type}</div>
									<div class="pi-specs">
										${it.beds !== null ? `<span class="spec"><svg viewBox="0 0 24 24" width="16" height="16" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true"><path d="M3 10v7a1 1 0 0 0 1 1h1v-6h14v6h1a1 1 0 0 0 1-1v-7" stroke="currentColor" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"/><rect x="3" y="6" width="18" height="4" rx="1" stroke="currentColor" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"/></svg><span class="spec-text">${it.beds} bd</span></span>` : ''}
										${it.baths !== null ? `<span class="spec"><svg viewBox="0 0 24 24" width="16" height="16" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true"><path d="M7 11c0-2.5 3-4 5-6 2 2 5 3.5 5 6 0 3-5 6-10 6S7 14 7 11z" stroke="currentColor" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round"/></svg><span class="spec-text">${it.baths} ba</span></span>` : ''}
										${it.area ? `<span class="spec"><svg viewBox="0 0 24 24" width="16" height="16" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true"><path d="M3 7v10a2 2 0 0 0 2 2h14" stroke="currentColor" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round"/><path d="M21 7V5a2 2 0 0 0-2-2H7" stroke="currentColor" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round"/></svg><span class="spec-text">${it.area}</span></span>` : ''}
									</div>
									<div class="pi-status ${it.status}">${it.status === 'sale' ? 'For Sale' : 'To Let'}</div>
								</div>
							`;
							list.appendChild(item);
						});

						section.appendChild(list);
						container.appendChild(section);
					});
				})
				.catch(err => { console.error(err); container.innerHTML = '<p>Unable to load properties.</p>'; });

			// Attach click handlers to top filters to smooth-scroll to groups
			const filters = document.querySelectorAll('.filter-card[data-type]');
			filters.forEach(f => {
				f.addEventListener('click', (e) => {
					const type = f.dataset.type;
					const target = document.getElementById('group-' + type);
					if (!target) return;
					target.scrollIntoView({ behavior: 'smooth', block: 'start' });
					setTimeout(() => { try { target.focus(); } catch (err){} }, 500);
				});
			});
		})();
		</script>
				<a href="privacy.html">Privacy</a>
				<a href="legal.html">Legal</a>
				<a href="termsandconditions.html">Terms &amp; Conditions</a>
			</nav>
		</div>
	</div>

	<!-- Floating WhatsApp button -->
	<a href="https://wa.me/254722865306" class="whatsapp-float" target="_blank" rel="noopener noreferrer" aria-label="Chat on WhatsApp">
		<img src="images/whatsapp.avif" alt="Chat on WhatsApp" class="whatsapp-icon">
	</a>

    
	<script>
	// Render all properties grouped by category (read-only)
	(function(){
		const data = [
			{ id:1, type:'apartments', title:'2 Bedroom Apartment — Kilimani', price:'KES 120,000 / month', status:'rent', img:'https://images.unsplash.com/photo-1560448204-e02f11c3d0e2', beds:2, baths:1, area:'95 m²' },
			{ id:2, type:'apartments', title:'3 Bedroom Apartment — Westlands', price:'KES 38,500,000', status:'sale', img:'https://images.unsplash.com/photo-1542314831-068cd1dbfeeb', beds:3, baths:2, area:'140 m²' },
			{ id:3, type:'houses', title:'4 Bedroom House — Lavington', price:'KES 85,000,000', status:'sale', img:'https://images.unsplash.com/photo-1505691938895-1758d7feb511', beds:4, baths:3, area:'320 m²' },
			{ id:4, type:'houses', title:'5 Bedroom Villa — Karen', price:'KES 62,000,000', status:'sale', img:'https://images.unsplash.com/photo-1599423300746-b62533397364', beds:5, baths:4, area:'480 m²' },
			{ id:5, type:'commercial', title:'Office Space — Upper Hill', price:'KES 95,000,000', status:'sale', img:'https://images.unsplash.com/photo-1522708323590-d24dbb6b0267', beds:null, baths:2, area:'1500 m²' },
			{ id:7, type:'farms', title:'2 Acre Farm — Kiambu', price:'KES 6,000,000', status:'sale', img:'https://images.unsplash.com/photo-1500530855697-b586d89ba3ee', beds:null, baths:null, area:'2 acres' },
			{ id:8, type:'warehouses', title:'Warehouse — Industrial Area', price:'KES 140,000,000', status:'sale', img:'https://images.unsplash.com/photo-1568605114967-8130f3a36994', beds:null, baths:1, area:'2400 m²' },
			{ id:9, type:'offices', title:'Serviced Office — Westlands', price:'From KES 45,000 / month', status:'rent', img:'https://images.unsplash.com/photo-1505691938895-1758d7feb511', beds:null, baths:1, area:'From 30 m²' }
		];

		const order = [
			{ key: 'houses', label: 'Houses' },
			{ key: 'apartments', label: 'Apartments' },
			{ key: 'commercial', label: 'Commercials' },
			{ key: 'offices', label: 'Offices' },
			{ key: 'farms', label: 'Farms & Land' },
			{ key: 'warehouses', label: 'Warehouses' }
		];

		const container = document.getElementById('propertiesContainer');
		if(!container) return;

		order.forEach(cat => {
			const items = data.filter(d => d.type === cat.key);
			if(items.length === 0) return;

			const section = document.createElement('section');
			section.className = 'property-group';
			section.id = `group-${cat.key}`;
			section.setAttribute('tabindex','-1');
			section.innerHTML = `<h3 class="group-title">${cat.label}</h3>`;

			const list = document.createElement('div');
			list.className = 'property-list';

			items.forEach(it => {
				const item = document.createElement('a');
				item.className = 'property-item property-link';
				item.href = `property.html?property=${it.id}`;
				item.setAttribute('aria-label', `${it.title} — ${it.price}`);
				item.innerHTML = `
					<div class="pi-left">
						<img src="${it.img}?q=60&w=800&auto=format&fit=crop" alt="${it.title}">
					</div>
					<div class="pi-right">
						<div class="pi-title">${it.title}</div>
						<div class="pi-price">${it.price}</div>
						<div class="pi-meta">${it.type}</div>
						<div class="pi-specs">
							${it.beds !== null ? `<span class="spec"><svg viewBox="0 0 24 24" width="16" height="16" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true"><path d="M3 10v7a1 1 0 0 0 1 1h1v-6h14v6h1a1 1 0 0 0 1-1v-7" stroke="currentColor" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"/><rect x="3" y="6" width="18" height="4" rx="1" stroke="currentColor" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"/></svg><span class="spec-text">${it.beds} bd</span></span>` : ''}
							${it.baths !== null ? `<span class="spec"><svg viewBox="0 0 24 24" width="16" height="16" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true"><path d="M7 11c0-2.5 3-4 5-6 2 2 5 3.5 5 6 0 3-5 6-10 6S7 14 7 11z" stroke="currentColor" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round"/></svg><span class="spec-text">${it.baths} ba</span></span>` : ''}
							${it.area ? `<span class="spec"><svg viewBox="0 0 24 24" width="16" height="16" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true"><path d="M3 7v10a2 2 0 0 0 2 2h14" stroke="currentColor" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round"/><path d="M21 7V5a2 2 0 0 0-2-2H7" stroke="currentColor" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round"/></svg><span class="spec-text">${it.area}</span></span>` : ''}
						</div>
						<div class="pi-status ${it.status}">${it.status === 'sale' ? 'For Sale' : 'To Let'}</div>
					</div>
				`;
				list.appendChild(item);
			});

			section.appendChild(list);
			container.appendChild(section);
		});

		// Attach click handlers to top filters to smooth-scroll to groups
		const filters = document.querySelectorAll('.filter-card[data-type]');
		filters.forEach(f => {
			f.addEventListener('click', (e) => {
				const type = f.dataset.type;
				const target = document.getElementById('group-' + type);
				if (!target) return;
				// smooth scroll to the group's top
				target.scrollIntoView({ behavior: 'smooth', block: 'start' });
				// focus for accessibility after a short delay (allow scroll to complete)
				setTimeout(() => { try { target.focus(); } catch (err){} }, 500);
			});
		});
	})();
	</script>

	<script src="script.js"></script>
</body>
</html>
